# 思路

个人认为要形成一个配色，步骤如下：

1. 决定 **概念**：这个配色要尝试去做什么？尝试描述什么？在这个项目里，无一例外都是角色。
1. 决定 **采样色彩**：角色有什么色彩是特别明显的？
2. 决定 **Base**、**Text**：一个配色好歹要有背景和正文。
3. 决定 **语义色**：除了正文，要强调的时候应该用什么色？
4. 按照 **梯度** 微调：如果遇到有 UI 的东西，这些背景应该要有不同的层级，亮度的差距就是梯度。由于梯度是固定的，决定完梯度之后，就不怎么需要微调了。
5. 微调 **语义色**：调整语义色的亮度，直到其满足可读性。
6. 编写 文档：“讲故事”，然后为语义色和梯度变化编写语义。

## 概念

在本项目中，每个核心概念均对应一个特定的动漫角色。

## 采样

概念形成之后，就可以采样了。
采样可以选择直接从原画中取点，也可以通过统计学采样。
统计学采样需要用到中位数 / K-means 聚类，避免挑到极端亮点或暗点。

采样的内容包括 Base、Text、语义色。语义色可以后文再取。

采样还要注意的是色空间。
最简单的就是使用 HSL。
不过，我用过的 LLM 都说 OKLCH 更好。

- 本项目用的是 chatGPT o3 主动使用的 K-means，但有时这种取样并不能令人满意。

## 基本色

又称 base & text、背景和正文、`bg`和`fg`。

任何有效的颜色主题都必须包含基础的背景色 (Base) 与文本色 (Text)。
为确保在长时间使用下的可读性，二者之间必须满足特定的对比度标准。

- 本项目使用的标准是 [WCAG 2.1 | Level AA](https://www.w3.org/TR/WCAG21/#contrast-minimum)，要求背景色与文本色的对比度不低于 `4.5:1`。

## 梯度

对于不同的 UI 元素，比如面板、按钮、悬浮状态等，总不可能和背景颜色是一样的。
所以要适当在背景色上面变化。
简单实践是调整亮度即可。

- 本项目的梯度层级设计参考了 Catppuccin 主题在亮度（ΔL）上的处理方式。

## 语义色

语义色是指用于特定目的的强调色，例如代码语法高亮、链接、警告或成功状态等。成熟的颜色主题通常包含一套完整的语义色。

- **Dracula**:
  - 基本色：background, current line, foreground, comment
  - 语义色：cyan, green, orange, pink, purple, red, yellow
- **Catppuccin**:
  - 基本色：Text, Subtext1, Subtext0, Overlay2, Overlay1, Overlay0, Surface2, Surface1, Surface0, Base, Mantle, Crust
  - 语义色：Rosewater, Flamingo, Pink, Mauve, Red, Maroon, Peach, Yellow, Green, Teal, Sky, Sapphire, Blue, Lavender

可以注意到，部分颜色（主色）接近于单色 (mono)，非常相近。

当然这里的语义色并不是要采完七八种颜色，因为动漫角色为了创造记忆点，通常不会使用过多的色彩。
本项目流程如下：

1. 首先从采样色中确定一至两个核心强调色。
1. 采样完两三个，就可以使用工具来辅助生成别的语义色了。从原理上看，用到的原理包括但不限于同色系微调、补色、类比色等。
1. 使用 Catppuccin 框架来辅助生成颜色。

对于颜色框架，追求极简的用户也可以使用 Dracula。对于主题机制爱好者，还可以使用 Base16 的命名方案。

辅助生成的工具包括但不限于：

- 能**执行程序**的 LLM。
- <https://color.adobe.com>：只能通过锁定单个 base 色来生成。
- <https://coolors.co>：可以锁定多个颜色，但需要付费，且价格昂贵。

## a11y

做好语义色之后，就可以调整亮度，以确保其与背景色的组合符合可读性要求。

- 本项目要求语义色与基础背景色的对比度 (contrast) 不低于 3:1。

## 确定

现在你就获得了基本色和语义色。只需要用一些什么工具跑一次对比度矩阵 (contrast-matrix) 即可。

跑完了，就可以截图展示，然后编写文档了。
编写文档的时候要说明白哪个颜色是用来干什么的。

当然，如果基于框架（如 Dracula）设计的，那就让色彩不言自明了。

- 本项目使用 chatGPT o3 根据框架设计，不需要此步。
